" source! /home/fabian/.vimperatorrc.local

js services.services.autoCompleteSearch.class_="@mozilla.org/autocomplete/search;1?name=unifiedcomplete"

ignorekeys add google.com/calendar -except g,H,h,l,b,o,d,u,f,F,r,:,w
ignorekeys add twitter|facebook    -except g,H,h,l,b,o,d,u,f,F,r,:,w,t
ignorekeys add .pdf                -except g,H,h,l,b,o,d,u,f,F,r,:,w,t
ignorekeys add duolingo.com        -except g,H,h,l,b,o,d,u,f,F,r,:,w,t,j,k

" Autocomplete using Firefox Awesomebar subsystem
set complete=l

" Show completions as you type? '' waits for tab, 'auto' shows them immediately
"set wildoptions=''

" Select the longest autocomplete match
set wildmode='list:full'

" Show a (n)umber on tabs, the (b)ottom scrollbar, and the (r)ight scrollbar
"set guioptions=nbr

" Always show tab bar
"set showtabline=1

" Don't beep
"set noerrorbells


" left-right navigation
nnoremap l gt
nnoremap h gT

" common sites
nnoremap gw :tabopen whoscored.com<CR>

" jump to last tab
map <C-b> <C-6>

" Press 'F10' to toggle Vimperator
"noremap <F10> :vimperatortoggle<CR>

" Press 'c' to change to a buffer, instead of 'b'
noremap c b

" Press 'b' to page up, instead of crazy CTRL-B
noremap b <PageUp>

" Press 'm' to go to previous tab
"noremap m :tabprevious<CR>

" Press ',' to go to next tab
"noremap , :tabnext<CR>

" Press 'q' to delete current tab
"noremap q :bdelete<CR>

" Press 'C-a' to select all
"noremap <C-a> <C-v><C-a>

" Press 'C-Insert' to copy and 'S-Insert' to paste
nnoremap <C-Insert> <C-v><C-c>
nnoremap <S-Insert> <C-v><C-v>
cnoremap <C-Insert> <C-v><C-c>
cnoremap <S-Insert> <C-v><C-v>
inoremap <C-Insert> <C-v><C-c>
inoremap <S-Insert> <C-v><C-v>


" Make Firefox run faster by using JIT
set! javascript.options.jit.chrome=true

" Make bar yellow when focused.
" From: http://www.reddit.com/r/linux/comments/99d55/i_could_use_a_little_vimperator_help_also/
javascript <<EOF
    (function() {
        var inputElement = document.getElementById('liberator-commandline-command');
        function swapBGColor(event) {
            inputElement.style.backgroundColor = event.type == "focus" ? "yellow" : "";
        }
        inputElement.addEventListener('focus', swapBGColor, false);
        inputElement.addEventListener('blur', swapBGColor, false);
    })();
EOF

" Pass through all keys (like CTRL-Z) on Gmail and Google Reader:
"autocmd LocationChange .* :js modes.passAllKeys = /mail\.google\.com|www\.google\.com\/reader\/view/.test(buffer.URL)

" Load configuration file into current browser, useful for updating after editing this file.
command! sourcerc :source ~/.vimperatorrc

" Show properties of an object within JavaScript.
javascript <<EOB
function inspect(what) {
    var nodes = [];
    for (var node in what)
        nodes.push(node);
    liberator.echo(nodes.sort().join(', '));
}
EOB

" vim: set ft=vim:
